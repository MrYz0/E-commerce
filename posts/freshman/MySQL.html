<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.37" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://vuepress-theme-hope-v2-demo.mrhope.site/E-commerce/posts/freshman/MySQL.html"><meta property="og:site_name" content="E-commerce"><meta property="og:title" content="MySQL"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Mr.Yang"><meta property="article:published_time" content="2022-04-01T00:00:00.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/font_3299156_7aq0w0eaukg.css"><title>MySQL | E-commerce</title><meta name="description" content="vuepress-theme-hope 的演示">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/E-commerce/assets/style.73ca5a8c.css">
    <link rel="modulepreload" href="/E-commerce/assets/app.b60e114e.js"><link rel="modulepreload" href="/E-commerce/assets/MySQL.html.806a201b.js"><link rel="modulepreload" href="/E-commerce/assets/MySQL.html.2365fff2.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/E-commerce/" class="home-link"><img class="logo" src="/E-commerce/logo.png" alt="E-commerce"><!----><span class="site-name hide-in-pad">E-commerce</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/E-commerce/" class="nav-link" arialabel="首页"><i class="icon iconfont icon-home"></i>首页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/E-commerce/posts/" class="nav-link active" arialabel="专业知识"><i class="icon iconfont icon-zhishi"></i>专业知识<!----></a></div><div class="nav-item hide-in-mobile"><a href="/E-commerce/study/" class="nav-link" arialabel="学习方向"><i class="icon iconfont icon-kechengfangxiang"></i>学习方向<!----></a></div><div class="nav-item hide-in-mobile"><a href="/E-commerce/guide/" class="nav-link" arialabel="创新创业"><i class="icon iconfont icon-chuangxinchuangyeshifan-01"></i>创新创业<!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><p class="sidebar-heading active"><i class="icon iconfont icon-zhishi"></i><span class="title">专业知识</span><!----></p><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable active"><i class="icon iconfont icon-daxuexinsheng"></i><span class="title">大一</span><span class="arrow down"></span></button><!--[--><!--[--><ul class="sidebar-links"><li><!--[--><a href="/E-commerce/posts/freshman/Java.html" class="nav-link sidebar-link sidebar-page" arialabel="Java"><i class="icon iconfont icon-java"></i>Java<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="MySQL"><i class="icon iconfont icon-MySQL-icon-02"></i>MySQL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#简介" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="简介"><!---->简介<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#ddl-数据定义语言" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DDL(数据定义语言)"><!---->DDL(数据定义语言)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#数据库指令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="数据库指令："><!---->数据库指令：<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询所有数据库" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查询所有数据库"><!---->查询所有数据库<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询当前数据库" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查询当前数据库"><!---->查询当前数据库<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#创建" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="创建"><!---->创建<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除"><!---->删除<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#使用" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="使用"><!---->使用<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#表指令" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="表指令："><!---->表指令：<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#创建表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="创建表"><!---->创建表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除表" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除表"><!---->删除表<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改表名" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="修改表名"><!---->修改表名<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询表结构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查询表结构"><!---->查询表结构<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询指定表的建表结构" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查询指定表的建表结构"><!---->查询指定表的建表结构<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#表操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="表操作"><!---->表操作<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#添加字段" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="添加字段"><!---->添加字段<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改数据类型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="修改数据类型"><!---->修改数据类型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改字段名和字段类型" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="修改字段名和字段类型"><!---->修改字段名和字段类型<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除字段" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除字段"><!---->删除字段<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dml-数据操作语言" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DML(数据操作语言)"><!---->DML(数据操作语言)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#insert-添加数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="INSERT 添加数据"><!---->INSERT 添加数据<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#_1-给指定字段添加数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. 给指定字段添加数据"><!---->1. 给指定字段添加数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#_2-给全部字段添加数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. 给全部字段添加数据"><!---->2. 给全部字段添加数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#_3-批量添加数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3. 批量添加数据"><!---->3. 批量添加数据<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#update-修改数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="UPDATE 修改数据"><!---->UPDATE 修改数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#delete-删除数据" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DELETE 删除数据"><!---->DELETE 删除数据<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dql-数据查询语言" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DQL(数据查询语言)"><!---->DQL(数据查询语言)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#编写顺序" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="编写顺序"><!---->编写顺序<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#基本查询-select-from" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="基本查询 select from"><!---->基本查询 select from<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#条件查询-where" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="条件查询 where"><!---->条件查询 where<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#条件" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="条件"><!---->条件<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#聚合查询-count-max-min-avg-sum" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="聚合查询 count, max, min, avg, sum"><!---->聚合查询 count, max, min, avg, sum<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#分组查询-group-by" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="分组查询 group by"><!---->分组查询 group by<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#where-和-having-的区别" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="where 和 having 的区别"><!---->where 和 having 的区别<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="注意事项"><!---->注意事项<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-3" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#排序查询-order-by" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="排序查询 order by"><!---->排序查询 order by<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#排序方式" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="排序方式"><!---->排序方式<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="注意事项"><!---->注意事项<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#分页查询-limit" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="分页查询 limit"><!---->分页查询 limit<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="注意事项"><!---->注意事项<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dql语句练习" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DQL语句练习"><!---->DQL语句练习<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#执行顺序" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="执行顺序"><!---->执行顺序<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dcl-数据控制语言" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="DCL(数据控制语言)"><!---->DCL(数据控制语言)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询用户" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查询用户"><!---->查询用户<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#创建用户-create" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="创建用户 create"><!---->创建用户 create<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改用户密码-alter" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="修改用户密码 alter"><!---->修改用户密码 alter<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除用户-drop" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除用户 drop"><!---->删除用户 drop<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#例子" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="例子"><!---->例子<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#权限控制" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="权限控制"><!---->权限控制<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询权限-show-grants" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="查询权限 show grants"><!---->查询权限 show grants<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#授予权限-grant" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="授予权限 grant"><!---->授予权限 grant<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#撤销权限-revoke" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="撤销权限 revoke"><!---->撤销权限 revoke<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#例子-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="例子"><!---->例子<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项-4" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="注意事项"><!---->注意事项<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="函数"><!---->函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#字符串函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="字符串函数"><!---->字符串函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#数值函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="数值函数"><!---->数值函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#日期函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="日期函数"><!---->日期函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#流程函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="流程函数"><!---->流程函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#约束-constraints" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="约束 Constraints"><!---->约束 Constraints<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#案例" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="案例"><!---->案例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#常用约束" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="常用约束"><!---->常用约束<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#外键约束" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="外键约束"><!---->外键约束<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#添加外键关联" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="添加外键关联"><!---->添加外键关联<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除外键" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除外键"><!---->删除外键<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#案例-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="案例"><!---->案例<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除-更新行为" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="删除/更新行为"><!---->删除/更新行为<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多表查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="多表查询"><!---->多表查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多表关系" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="多表关系"><!---->多表关系<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#一对多" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="一对多"><!---->一对多<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多对多" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="多对多"><!---->多对多<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#一对一" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="一对一"><!---->一对一<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多表查询-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="多表查询"><!---->多表查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#合并查询-笛卡尔积-会展示所有组合结果" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="合并查询（笛卡尔积，会展示所有组合结果）"><!---->合并查询（笛卡尔积，会展示所有组合结果）<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#连接查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="连接查询"><!---->连接查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#内连接-sql-inner-join" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="内连接 SQL Inner Join"><!---->内连接 SQL Inner Join<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#外连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="外连接"><!---->外连接<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#自连接" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="自连接"><!---->自连接<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-6" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#子查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="子查询"><!---->子查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/E-commerce/posts/freshman/accountanttitle1.html" class="nav-link sidebar-link sidebar-page" arialabel="会计学原理试卷1"><i class="icon iconfont icon-guojihuiji"></i>会计学原理试卷1<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/E-commerce/posts/freshman/calculusB1title.html" class="nav-link sidebar-link sidebar-page" arialabel="高等数学B1复习题（2020学期）"><i class="icon iconfont icon-shuxue2x"></i>高等数学B1复习题（2020学期）<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/E-commerce/posts/freshman/webDesign.html" class="nav-link sidebar-link sidebar-page" arialabel="网页设计"><i class="icon iconfont icon-html"></i>网页设计<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-daxuexinsheng"></i><span class="title">大二</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-daxuexinsheng"></i><span class="title">大三</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li><li><!--[--><section class="sidebar-group"><button class="sidebar-heading clickable"><i class="icon iconfont icon-daxuexinsheng"></i><span class="title">大四</span><span class="arrow right"></span></button><!--[--><!--[--><!----><!--]--><!----><!--]--></section><!--]--></li></ul><!--]--><!----><!--]--></section><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><i class="icon iconfont icon-MySQL-icon-02"></i>MySQL</h1><div class="article-info"><span class="author-info" arialabel="作者🖊" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><span class="author-item">Mr.Yang</span></span><span property="author" content="Mr.Yang"></span></span><!----><span class="date-info" arialabel="写作日期📅" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022年4月1日</span><meta property="datePublished" content="2022-04-01T00:00:00.000Z"></span><span class="category-info" arialabel="分类🌈" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">MySQL</li><meta property="articleSection" content="MySQL"></ul></span><!----><span class="reading-time-info" arialabel="阅读时间⌛" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>大约 22 分钟</span><meta property="timeRequired" content="PT22M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#简介" class="router-link-active router-link-exact-active toc-link level2">简介</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#ddl-数据定义语言" class="router-link-active router-link-exact-active toc-link level2">DDL(数据定义语言)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#数据库指令" class="router-link-active router-link-exact-active toc-link level2">数据库指令：</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询所有数据库" class="router-link-active router-link-exact-active toc-link level3">查询所有数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询当前数据库" class="router-link-active router-link-exact-active toc-link level3">查询当前数据库</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#创建" class="router-link-active router-link-exact-active toc-link level3">创建</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除" class="router-link-active router-link-exact-active toc-link level3">删除</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#使用" class="router-link-active router-link-exact-active toc-link level3">使用</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#表指令" class="router-link-active router-link-exact-active toc-link level2">表指令：</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#创建表" class="router-link-active router-link-exact-active toc-link level3">创建表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除表" class="router-link-active router-link-exact-active toc-link level3">删除表</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改表名" class="router-link-active router-link-exact-active toc-link level3">修改表名</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询表结构" class="router-link-active router-link-exact-active toc-link level3">查询表结构</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询指定表的建表结构" class="router-link-active router-link-exact-active toc-link level3">查询指定表的建表结构</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#表操作" class="router-link-active router-link-exact-active toc-link level2">表操作</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#添加字段" class="router-link-active router-link-exact-active toc-link level3">添加字段</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改数据类型" class="router-link-active router-link-exact-active toc-link level3">修改数据类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改字段名和字段类型" class="router-link-active router-link-exact-active toc-link level3">修改字段名和字段类型</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除字段" class="router-link-active router-link-exact-active toc-link level3">删除字段</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dml-数据操作语言" class="router-link-active router-link-exact-active toc-link level2">DML(数据操作语言)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#insert-添加数据" class="router-link-active router-link-exact-active toc-link level2">INSERT 添加数据</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#_1-给指定字段添加数据" class="router-link-active router-link-exact-active toc-link level3">1. 给指定字段添加数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#_2-给全部字段添加数据" class="router-link-active router-link-exact-active toc-link level3">2. 给全部字段添加数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#_3-批量添加数据" class="router-link-active router-link-exact-active toc-link level3">3. 批量添加数据</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#update-修改数据" class="router-link-active router-link-exact-active toc-link level2">UPDATE 修改数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#delete-删除数据" class="router-link-active router-link-exact-active toc-link level2">DELETE 删除数据</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dql-数据查询语言" class="router-link-active router-link-exact-active toc-link level2">DQL(数据查询语言)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#编写顺序" class="router-link-active router-link-exact-active toc-link level2">编写顺序</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#基本查询-select-from" class="router-link-active router-link-exact-active toc-link level2">基本查询 select from</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#条件查询-where" class="router-link-active router-link-exact-active toc-link level2">条件查询 where</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#条件" class="router-link-active router-link-exact-active toc-link level3">条件</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-1" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#聚合查询-count-max-min-avg-sum" class="router-link-active router-link-exact-active toc-link level2">聚合查询 count, max, min, avg, sum</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-2" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#分组查询-group-by" class="router-link-active router-link-exact-active toc-link level2">分组查询 group by</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#where-和-having-的区别" class="router-link-active router-link-exact-active toc-link level3">where 和 having 的区别</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项" class="router-link-active router-link-exact-active toc-link level3">注意事项</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-3" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#排序查询-order-by" class="router-link-active router-link-exact-active toc-link level2">排序查询 order by</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#排序方式" class="router-link-active router-link-exact-active toc-link level3">排序方式</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项-1" class="router-link-active router-link-exact-active toc-link level3">注意事项</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-4" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#分页查询-limit" class="router-link-active router-link-exact-active toc-link level2">分页查询 limit</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项-2" class="router-link-active router-link-exact-active toc-link level3">注意事项</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dql语句练习" class="router-link-active router-link-exact-active toc-link level2">DQL语句练习</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#执行顺序" class="router-link-active router-link-exact-active toc-link level2">执行顺序</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#dcl-数据控制语言" class="router-link-active router-link-exact-active toc-link level2">DCL(数据控制语言)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询用户" class="router-link-active router-link-exact-active toc-link level2">查询用户</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#创建用户-create" class="router-link-active router-link-exact-active toc-link level2">创建用户 create</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#修改用户密码-alter" class="router-link-active router-link-exact-active toc-link level2">修改用户密码 alter</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除用户-drop" class="router-link-active router-link-exact-active toc-link level2">删除用户 drop</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#例子" class="router-link-active router-link-exact-active toc-link level3">例子</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#权限控制" class="router-link-active router-link-exact-active toc-link level2">权限控制</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#查询权限-show-grants" class="router-link-active router-link-exact-active toc-link level3">查询权限 show grants</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#授予权限-grant" class="router-link-active router-link-exact-active toc-link level3">授予权限 grant</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#撤销权限-revoke" class="router-link-active router-link-exact-active toc-link level3">撤销权限 revoke</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#例子-1" class="router-link-active router-link-exact-active toc-link level3">例子</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#注意事项-4" class="router-link-active router-link-exact-active toc-link level3">注意事项</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#函数" class="router-link-active router-link-exact-active toc-link level2">函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#字符串函数" class="router-link-active router-link-exact-active toc-link level2">字符串函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#数值函数" class="router-link-active router-link-exact-active toc-link level2">数值函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#日期函数" class="router-link-active router-link-exact-active toc-link level2">日期函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#流程函数" class="router-link-active router-link-exact-active toc-link level2">流程函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#约束-constraints" class="router-link-active router-link-exact-active toc-link level2">约束 Constraints</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#案例" class="router-link-active router-link-exact-active toc-link level2">案例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#常用约束" class="router-link-active router-link-exact-active toc-link level2">常用约束</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#外键约束" class="router-link-active router-link-exact-active toc-link level2">外键约束</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#添加外键关联" class="router-link-active router-link-exact-active toc-link level3">添加外键关联</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除外键" class="router-link-active router-link-exact-active toc-link level3">删除外键</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#案例-1" class="router-link-active router-link-exact-active toc-link level3">案例</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#删除-更新行为" class="router-link-active router-link-exact-active toc-link level3">删除/更新行为</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多表查询" class="router-link-active router-link-exact-active toc-link level2">多表查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多表关系" class="router-link-active router-link-exact-active toc-link level2">多表关系</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#一对多" class="router-link-active router-link-exact-active toc-link level3">一对多</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多对多" class="router-link-active router-link-exact-active toc-link level3">多对多</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#一对一" class="router-link-active router-link-exact-active toc-link level3">一对一</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#多表查询-1" class="router-link-active router-link-exact-active toc-link level2">多表查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#合并查询-笛卡尔积-会展示所有组合结果" class="router-link-active router-link-exact-active toc-link level3">合并查询（笛卡尔积，会展示所有组合结果）</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#连接查询" class="router-link-active router-link-exact-active toc-link level2">连接查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#内连接-sql-inner-join" class="router-link-active router-link-exact-active toc-link level3">内连接 SQL Inner Join</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#外连接" class="router-link-active router-link-exact-active toc-link level3">外连接</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#自连接" class="router-link-active router-link-exact-active toc-link level3">自连接</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#-6" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/E-commerce/posts/freshman/MySQL.html#子查询" class="router-link-active router-link-exact-active toc-link level2">子查询</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h1 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql" aria-hidden="true">#</a> MySQL</h1><h2 id="简介" tabindex="-1"><a class="header-anchor" href="#简介" aria-hidden="true">#</a> 简介</h2><p>DDL： Data Definition Language, 数据定义语言，用来维护存储数据的结构（数据库，表），代表指 令：create, drop, alter等。</p><p>DML：Data Manipulation Language, 数据操作语言，用来对数据的操作（数据表中内容），代表指令：insert, delete, update等：其中DML内部又单独进行了一个分类：DQL(Data Query Language:数据查询语言，例如 select)</p><p>DCL：Data Control Language, 数据控制语言，主要是复制权限管理（用户），代表指令：grant, revoke等。</p><p><img src="/E-commerce/images/MySQL/MySQL-1.png" alt="img" loading="lazy"></p><p>https://www.javatpoint.com/dbms-language</p><h2 id="ddl-数据定义语言" tabindex="-1"><a class="header-anchor" href="#ddl-数据定义语言" aria-hidden="true">#</a> DDL(数据定义语言)</h2><p><img src="/E-commerce/images/MySQL/MySQL-2.png" alt="img" loading="lazy"></p><h2 id="数据库指令" tabindex="-1"><a class="header-anchor" href="#数据库指令" aria-hidden="true">#</a> 数据库指令：</h2><h3 id="查询所有数据库" tabindex="-1"><a class="header-anchor" href="#查询所有数据库" aria-hidden="true">#</a> 查询所有数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="查询当前数据库" tabindex="-1"><a class="header-anchor" href="#查询当前数据库" aria-hidden="true">#</a> 查询当前数据库</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="创建" tabindex="-1"><a class="header-anchor" href="#创建" aria-hidden="true">#</a> 创建</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">(</span>数据库名Database_Name<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">create</span> <span class="token keyword">database</span> <span class="token keyword">if</span> <span class="token operator">not</span> <span class="token keyword">exists</span> <span class="token punctuation">(</span>数据库名<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">database</span> ithema <span class="token keyword">default</span> <span class="token keyword">charset</span> utf8mb4<span class="token punctuation">;</span> <span class="token comment">-- 定义了字符集</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除" tabindex="-1"><a class="header-anchor" href="#删除" aria-hidden="true">#</a> 删除</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> Database_Name<span class="token punctuation">;</span>  
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> Database_Name<span class="token punctuation">;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="使用" tabindex="-1"><a class="header-anchor" href="#使用" aria-hidden="true">#</a> 使用</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> Database_Name<span class="token punctuation">;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="表指令" tabindex="-1"><a class="header-anchor" href="#表指令" aria-hidden="true">#</a> 表指令：</h2><h3 id="创建表" tabindex="-1"><a class="header-anchor" href="#创建表" aria-hidden="true">#</a> 创建表</h3><p><img src="/E-commerce/images/MySQL/MySQL-3.png" alt="img" loading="lazy"></p><blockquote><p>comment：注释</p><p>字段1 字段1类型 comment&#39;&#39;<strong>，</strong></p></blockquote><h4 id="数值类型" tabindex="-1"><a class="header-anchor" href="#数值类型" aria-hidden="true">#</a> 数值类型</h4><p><img src="/E-commerce/images/MySQL/MySQL-4.png" alt="img" loading="lazy"></p><p><img src="/E-commerce/images/MySQL/MySQL-5.png" alt="img" loading="lazy"></p><p><img src="/E-commerce/images/MySQL/MySQL-6.png" alt="img" loading="lazy"></p><h3 id="删除表" tabindex="-1"><a class="header-anchor" href="#删除表" aria-hidden="true">#</a> 删除表</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token punctuation">[</span><span class="token keyword">if</span> exist<span class="token punctuation">]</span> <span class="token keyword">table</span><span class="token operator">-</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-7.png" alt="img" loading="lazy"></p><h4 id="删除指定表-并重新创建该表" tabindex="-1"><a class="header-anchor" href="#删除指定表-并重新创建该表" aria-hidden="true">#</a> 删除指定表，并重新创建该表</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">truncate</span> <span class="token keyword">table</span> <span class="token keyword">table</span><span class="token operator">-</span>name
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-8.png" alt="img" loading="lazy"></p><h3 id="修改表名" tabindex="-1"><a class="header-anchor" href="#修改表名" aria-hidden="true">#</a> 修改表名</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token keyword">table</span><span class="token operator">-</span>name <span class="token keyword">rename</span> <span class="token keyword">to</span> new<span class="token operator">-</span><span class="token keyword">table</span><span class="token operator">-</span>name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-9.png" alt="img" loading="lazy"></p><h3 id="查询表结构" tabindex="-1"><a class="header-anchor" href="#查询表结构" aria-hidden="true">#</a> 查询表结构</h3><p><img src="/E-commerce/images/MySQL/MySQL-10.png" alt="img" loading="lazy"></p><h3 id="查询指定表的建表结构" tabindex="-1"><a class="header-anchor" href="#查询指定表的建表结构" aria-hidden="true">#</a> 查询指定表的建表结构</h3><p><img src="/E-commerce/images/MySQL/MySQL-11.png" alt="img" loading="lazy"></p><h2 id="表操作" tabindex="-1"><a class="header-anchor" href="#表操作" aria-hidden="true">#</a> 表操作</h2><h3 id="添加字段" tabindex="-1"><a class="header-anchor" href="#添加字段" aria-hidden="true">#</a> 添加字段</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token keyword">table</span><span class="token operator">-</span>name <span class="token keyword">add</span> 字段名 类型 <span class="token punctuation">[</span><span class="token keyword">comment</span> <span class="token string">&#39;XX&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-12.png" alt="img" loading="lazy"></p><h3 id="修改数据类型" tabindex="-1"><a class="header-anchor" href="#修改数据类型" aria-hidden="true">#</a> 修改数据类型</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token keyword">table</span><span class="token operator">-</span>name <span class="token keyword">modify</span> 字段名 类型；
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="修改字段名和字段类型" tabindex="-1"><a class="header-anchor" href="#修改字段名和字段类型" aria-hidden="true">#</a> 修改字段名和字段类型</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token keyword">table</span><span class="token operator">-</span>name change 旧字段名 新字段名 类型 <span class="token punctuation">[</span><span class="token keyword">comment</span> <span class="token string">&#39;XX&#39;</span><span class="token punctuation">]</span>；
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-13.png" alt="img" loading="lazy"></p><h3 id="删除字段" tabindex="-1"><a class="header-anchor" href="#删除字段" aria-hidden="true">#</a> 删除字段</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> <span class="token keyword">table</span><span class="token operator">-</span>name <span class="token keyword">drop</span> 字段名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-14.png" alt="img" loading="lazy"></p><hr><h2 id="dml-数据操作语言" tabindex="-1"><a class="header-anchor" href="#dml-数据操作语言" aria-hidden="true">#</a> DML(数据操作语言)</h2><h2 id="insert-添加数据" tabindex="-1"><a class="header-anchor" href="#insert-添加数据" aria-hidden="true">#</a> INSERT 添加数据</h2><p>column---字段</p><p>values---值</p><h3 id="_1-给指定字段添加数据" tabindex="-1"><a class="header-anchor" href="#_1-给指定字段添加数据" aria-hidden="true">#</a> 1. 给指定字段添加数据</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>INSERT <span class="token class-name">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> column3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>  
VALUES <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-给全部字段添加数据" tabindex="-1"><a class="header-anchor" href="#_2-给全部字段添加数据" aria-hidden="true">#</a> 2. 给全部字段添加数据</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>INSERT INTO table_name  
VALUES <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-批量添加数据" tabindex="-1"><a class="header-anchor" href="#_3-批量添加数据" aria-hidden="true">#</a> 3. 批量添加数据</h3><div class="language-java ext-java line-numbers-mode"><pre class="language-java"><code>INSERT <span class="token class-name">INTO</span> table_name <span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> column3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>column1<span class="token punctuation">,</span> column2<span class="token punctuation">,</span> column3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> 
VALUES <span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span>value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-15.png" alt="img" loading="lazy"></p><h2 id="update-修改数据" tabindex="-1"><a class="header-anchor" href="#update-修改数据" aria-hidden="true">#</a> UPDATE 修改数据</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> table_name <span class="token keyword">SET</span> <span class="token punctuation">[</span>column_name1<span class="token operator">=</span> value1<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> column_nameN <span class="token operator">=</span> valueN<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">WHERE</span> condition<span class="token punctuation">]</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-16.png" alt="img" loading="lazy"></p><h2 id="delete-删除数据" tabindex="-1"><a class="header-anchor" href="#delete-删除数据" aria-hidden="true">#</a> DELETE 删除数据</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> table_name <span class="token punctuation">[</span><span class="token keyword">WHERE</span> condition<span class="token punctuation">]</span><span class="token punctuation">;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>不能删除某一字段的值，如果要删除，可以使用update将值改为NULL.</p><p><img src="/E-commerce/images/MySQL/MySQL-17.png" alt="img" loading="lazy"></p><hr><h2 id="dql-数据查询语言" tabindex="-1"><a class="header-anchor" href="#dql-数据查询语言" aria-hidden="true">#</a> DQL(数据查询语言)</h2><p>The SELECT statement is the most commonly used command in Structured Query Language. It is used to access the records from one or more database tables and views. It also retrieves the selected data that follow the conditions we want.</p><p>By using this command, we can also access the particular record from the particular column of the table. The table which stores the record returned by the SELECT statement is called a result-set table.</p><h2 id="编写顺序" tabindex="-1"><a class="header-anchor" href="#编写顺序" aria-hidden="true">#</a> 编写顺序</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span>
    字段列表
<span class="token keyword">FROM</span>
    表名字段
<span class="token keyword">WHERE</span>
    条件列表
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span>
    分组字段列表
<span class="token keyword">HAVING</span>
    分组后的条件列表
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span>
    排序字段列表
<span class="token keyword">LIMIT</span>
    分页参数
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="基本查询-select-from" tabindex="-1"><a class="header-anchor" href="#基本查询-select-from" aria-hidden="true">#</a> 基本查询 select from</h2><p><img src="/E-commerce/images/MySQL/MySQL-18.png" alt="img" loading="lazy"></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 基本查询</span>

<span class="token comment">-- 1.  查询指定字段 name, workno, age 返回</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>workno<span class="token punctuation">,</span>age <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 2.  查询所有字段返回</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> id<span class="token punctuation">,</span> workno<span class="token punctuation">,</span> name<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> age<span class="token punctuation">,</span> idcard<span class="token punctuation">,</span> workaddress<span class="token punctuation">,</span> entrydate <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 3.  查询所有员工的工作地址,起别名</span>
<span class="token keyword">select</span> workaddress <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> workaddress <span class="token keyword">as</span> <span class="token string">&#39;工作地址&#39;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> workaddress <span class="token string">&#39;工作地址&#39;</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 4.查询员工的上班地址（不要重复）</span>
<span class="token keyword">select</span> workaddress <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> workaddress <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a></h2><h2 id="条件查询-where" tabindex="-1"><a class="header-anchor" href="#条件查询-where" aria-hidden="true">#</a> 条件查询 where</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> Name_of_Table <span class="token keyword">WHERE</span> <span class="token punctuation">[</span>condition<span class="token punctuation">]</span><span class="token punctuation">;</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="条件" tabindex="-1"><a class="header-anchor" href="#条件" aria-hidden="true">#</a> 条件</h3><table><thead><tr><th><strong>比较运算符</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>&gt;</td><td>大于</td></tr><tr><td>&gt;=</td><td>大于等于</td></tr><tr><td>&lt;</td><td>小于</td></tr><tr><td>&lt;=</td><td>小于等于</td></tr><tr><td>=</td><td>等于</td></tr><tr><td>&lt;&gt; 或 !=</td><td>不等于</td></tr><tr><td>BETWEEN … AND …</td><td>在某个范围内（含最小、最大值）</td></tr><tr><td>IN(…)</td><td>在in之后的列表中的值，多选一</td></tr><tr><td>LIKE 占位符</td><td>模糊匹配（_匹配单个字符，%匹配任意个字符）</td></tr><tr><td>IS NULL</td><td>是NULL</td></tr></tbody></table><table><thead><tr><th><strong>逻辑运算符</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>AND 或 &amp;&amp;</td><td>并且（多个条件同时成立）</td></tr><tr><td>OR 或 ||</td><td>或者（多个条件任意一个成立）</td></tr><tr><td>NOT 或 !</td><td>非，不是</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 条件查询</span>
<span class="token comment">-- 1. 查询年龄等于88的员工</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">88</span><span class="token punctuation">;</span>

<span class="token comment">-- 2. 查询年龄小于20的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- 3. 查询年龄小于等于20的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- 4. 查询没有身份证号的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">is</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">-- 5. 查询有身份证号的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">is</span> <span class="token operator">not</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>

<span class="token comment">-- 6. 查询年龄不等于88的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">!=</span> <span class="token number">88</span><span class="token punctuation">;</span>

<span class="token comment">-- 7. 查询年龄在15岁（包含）到20岁（包含）直接的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">between</span> <span class="token number">15</span> <span class="token operator">and</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">15</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;=</span> <span class="token number">15</span> <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>

<span class="token comment">-- 8. 查询性别为女 且 年龄小于25岁的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender <span class="token operator">=</span> <span class="token string">&#39;女&#39;</span> <span class="token operator">and</span> age <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span>

<span class="token comment">-- 9. 查询年龄等于18 或 20 或 40 的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">=</span> <span class="token number">18</span> <span class="token operator">or</span> age <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">or</span> age <span class="token operator">=</span> <span class="token number">40</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 10. 查询姓名为两个字的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&#39;__&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 11. 查询身份证号最后一位是X的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">like</span> <span class="token string">&#39;_________________X&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">like</span> <span class="token string">&#39;%X&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h2 id="-1" tabindex="-1"><a class="header-anchor" href="#-1" aria-hidden="true">#</a></h2><h2 id="聚合查询-count-max-min-avg-sum" tabindex="-1"><a class="header-anchor" href="#聚合查询-count-max-min-avg-sum" aria-hidden="true">#</a> 聚合查询 count, max, min, avg, sum</h2><p>常见聚合函数：</p><table><thead><tr><th><strong>函数</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>count</td><td>统计数量</td></tr><tr><td>max</td><td>最大值</td></tr><tr><td>min</td><td>最小值</td></tr><tr><td>avg</td><td>平均值</td></tr><tr><td>sum</td><td>求和</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 聚合函数<span class="token punctuation">(</span>字段列表<span class="token punctuation">)</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> employee <span class="token keyword">where</span> workaddress <span class="token operator">=</span> <span class="token string">&quot;广东省&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- 聚合函数</span>
<span class="token comment">-- 1. 统计该企业员工数量</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 2. 统计该企业员工的平均年龄</span>
<span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 3. 统计该企业员工的最大年龄</span>
<span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 4. 统计该企业员工的最小年龄</span>
<span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span>

<span class="token comment">-- 5. 统计西安地区员工的年龄之和</span>
<span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> workaddress <span class="token operator">=</span> <span class="token string">&#39;西安&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="-2" tabindex="-1"><a class="header-anchor" href="#-2" aria-hidden="true">#</a></h2><h2 id="分组查询-group-by" tabindex="-1"><a class="header-anchor" href="#分组查询-group-by" aria-hidden="true">#</a> 分组查询 group by</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span> <span class="token keyword">WHERE</span> 条件 <span class="token punctuation">]</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 分组字段名 <span class="token punctuation">[</span> <span class="token keyword">HAVING</span> 分组后的过滤条件 <span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="where-和-having-的区别" tabindex="-1"><a class="header-anchor" href="#where-和-having-的区别" aria-hidden="true">#</a> where 和 having 的区别</h3><ul><li>执行时机不同：where是分组之前进行过滤，不满足where条件不参与分组；having是分组后对结果进行过滤。</li><li>判断条件不同：where不能对聚合函数进行判断，而having可以。</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 分组查询</span>
<span class="token comment">-- 1. 根据性别分组，统计男性员工 和 女性员工的数量</span>
<span class="token keyword">select</span> gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>

<span class="token comment">-- 2. 根据性别分组，统计男性员工 和 女性员工的平均年龄</span>
<span class="token keyword">select</span>  gender<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>

<span class="token comment">-- 3. 查询年龄小于45的员工，并根据工作地址分组，获取员工数量大于等于3的工作地址</span>
<span class="token keyword">select</span> workaddress<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">45</span> <span class="token keyword">group</span> <span class="token keyword">by</span> workaddress <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> workaddress<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">45</span> <span class="token keyword">group</span> <span class="token keyword">by</span> workaddress <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> workaddress<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> adress_count <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">45</span> <span class="token keyword">group</span> <span class="token keyword">by</span> workaddress <span class="token keyword">having</span> adress_count <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h3><ul><li>执行顺序：where &gt; 聚合函数 &gt; having</li><li>分组之后，查询的字段一般为聚合函数和分组字段，查询其他字段无任何意义</li></ul><h2 id="-3" tabindex="-1"><a class="header-anchor" href="#-3" aria-hidden="true">#</a></h2><h2 id="排序查询-order-by" tabindex="-1"><a class="header-anchor" href="#排序查询-order-by" aria-hidden="true">#</a> 排序查询 order by</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 字段<span class="token number">1</span> 排序方式<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span> 排序方式<span class="token number">2</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="排序方式" tabindex="-1"><a class="header-anchor" href="#排序方式" aria-hidden="true">#</a> 排序方式</h3><ul><li>ASC: 升序（默认）</li><li>DESC: 降序</li></ul><h3 id="注意事项-1" tabindex="-1"><a class="header-anchor" href="#注意事项-1" aria-hidden="true">#</a> 注意事项</h3><p>如果是多字段排序，当第一个字段值相同时，才会根据第二个字段进行排序</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 排序查询</span>
<span class="token comment">-- 1. 年龄升序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">ASC</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age<span class="token punctuation">;</span>

<span class="token comment">-- 2. 入职时间降序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> entrydate <span class="token keyword">DESC</span><span class="token punctuation">;</span>

<span class="token comment">-- 3. 年龄升序，年龄相同，入职时间降序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">,</span> entrydate <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="-4" tabindex="-1"><a class="header-anchor" href="#-4" aria-hidden="true">#</a></h2><h2 id="分页查询-limit" tabindex="-1"><a class="header-anchor" href="#分页查询-limit" aria-hidden="true">#</a> 分页查询 limit</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">LIMIT</span> 起始索引<span class="token punctuation">,</span> 查询记录数<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="注意事项-2" tabindex="-1"><a class="header-anchor" href="#注意事项-2" aria-hidden="true">#</a> 注意事项</h3><ul><li>起始索引从0开始，起始索引 = （查询页码 - 1） * 每页显示记录数</li><li>分页查询是数据库的方言，不同数据库有不同实现，MySQL是LIMIT</li><li>如果查询的是第一页数据，起始索引可以省略，直接简写 LIMIT 10</li></ul><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 分页查询</span>
<span class="token comment">-- 1. 查询第1页员工数据，每页展示10条记录</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">-- 2. 查询第2页员工数据，每页展示10条记录---起始索引=（查询页码 - 1）*每页显示记录数, 查询记录数</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="dql语句练习" tabindex="-1"><a class="header-anchor" href="#dql语句练习" aria-hidden="true">#</a> DQL语句练习</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- DDL语句联系</span>
<span class="token comment">-- 1. 年龄20,21,22,23的女性 (条件查询)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">&#39;女&#39;</span> <span class="token operator">and</span> age <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 2. 男性，年龄20-40（含），姓名三个字 (条件查询)</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">&#39;男&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span>age <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token operator">and</span> name <span class="token operator">like</span> <span class="token string">&#39;___&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 3. 年龄 &lt; 60 的男女人数 (分组查询,聚合查询)</span>
<span class="token keyword">select</span> gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token keyword">group</span> <span class="token keyword">by</span> gender<span class="token punctuation">;</span>

<span class="token comment">-- 4. 年龄 &lt;= 35 的姓名和年龄，年龄升序，相同，入职时间降序 (排序查询)</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>age <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;=</span> <span class="token number">35</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">ASC</span><span class="token punctuation">,</span> entrydate <span class="token keyword">DESC</span><span class="token punctuation">;</span>

<span class="token comment">-- 5. 性别男，年龄20-40（含）之内的前5个，年龄升序，相同，入职时间升序 (排序查询，分页查询)</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>gender<span class="token punctuation">,</span>age<span class="token punctuation">,</span>entrydate <span class="token keyword">from</span> emp <span class="token keyword">where</span> gender<span class="token operator">=</span><span class="token string">&#39;男&#39;</span> <span class="token operator">and</span> <span class="token punctuation">(</span>age <span class="token operator">between</span> <span class="token number">20</span> <span class="token operator">and</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">ASC</span><span class="token punctuation">,</span> entrydate <span class="token keyword">ASC</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="执行顺序" tabindex="-1"><a class="header-anchor" href="#执行顺序" aria-hidden="true">#</a> 执行顺序</h2><p><strong>FROM -&gt; WHERE -&gt; GROUP BY -&gt; HAVING -&gt; SELECT -&gt; ORDER BY -&gt; LIMIT</strong></p><hr><h2 id="dcl-数据控制语言" tabindex="-1"><a class="header-anchor" href="#dcl-数据控制语言" aria-hidden="true">#</a> DCL(数据控制语言)</h2><p>用于管理数据库用户，控制数据库访问权限</p><h2 id="查询用户" tabindex="-1"><a class="header-anchor" href="#查询用户" aria-hidden="true">#</a> 查询用户</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">USER</span> mysql<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="创建用户-create" tabindex="-1"><a class="header-anchor" href="#创建用户-create" aria-hidden="true">#</a> 创建用户 create</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;密码&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="修改用户密码-alter" tabindex="-1"><a class="header-anchor" href="#修改用户密码-alter" aria-hidden="true">#</a> 修改用户密码 alter</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;新密码&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="删除用户-drop" tabindex="-1"><a class="header-anchor" href="#删除用户-drop" aria-hidden="true">#</a> 删除用户 drop</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="例子" tabindex="-1"><a class="header-anchor" href="#例子" aria-hidden="true">#</a> 例子</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建用户itcast，只能在当前主机localhost访问，密码123456</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;itcast&#39;</span><span class="token variable">@&#39;localhost&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 创建用户heima，能在任意主机访问，密码123456</span>
<span class="token keyword">create</span> <span class="token keyword">user</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">by</span> <span class="token string">&#39;123456&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 修改heima密码1234</span>
<span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span> identified <span class="token keyword">with</span> mysql_native_password <span class="token keyword">by</span> <span class="token string">&#39;1234&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除用户itcast@localhost</span>
<span class="token keyword">drop</span> <span class="token keyword">user</span> <span class="token string">&#39;itcast&#39;</span><span class="token variable">@&#39;localhost&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="注意事项-3" tabindex="-1"><a class="header-anchor" href="#注意事项-3" aria-hidden="true">#</a> 注意事项</h4><ul><li>主机名可以使用 % 通配</li></ul><h2 id="权限控制" tabindex="-1"><a class="header-anchor" href="#权限控制" aria-hidden="true">#</a> 权限控制</h2><p>常用权限：</p><table><thead><tr><th><strong>权限</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>ALL, ALL PRIVILEGES</td><td>所有权限</td></tr><tr><td>SELECT</td><td>查询数据</td></tr><tr><td>INSERT</td><td>插入数据</td></tr><tr><td>UPDATE</td><td>修改数据</td></tr><tr><td>DELETE</td><td>删除数据</td></tr><tr><td>ALTER</td><td>修改表</td></tr><tr><td>DROP</td><td>删除数据库/表/视图</td></tr><tr><td>CREATE</td><td>创建数据库/表</td></tr></tbody></table><h3 id="查询权限-show-grants" tabindex="-1"><a class="header-anchor" href="#查询权限-show-grants" aria-hidden="true">#</a> 查询权限 show grants</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="授予权限-grant" tabindex="-1"><a class="header-anchor" href="#授予权限-grant" aria-hidden="true">#</a> 授予权限 grant</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">GRANT</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">TO</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="撤销权限-revoke" tabindex="-1"><a class="header-anchor" href="#撤销权限-revoke" aria-hidden="true">#</a> 撤销权限 revoke</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">FROM</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="例子-1" tabindex="-1"><a class="header-anchor" href="#例子-1" aria-hidden="true">#</a> 例子</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询权限</span>
<span class="token keyword">show</span> grants <span class="token keyword">for</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 授予权限 (授予针对于itcase这个数据库的所有表的所有权限)</span>
<span class="token keyword">grant</span> <span class="token keyword">all</span> <span class="token keyword">on</span> itcase<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">to</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询权限 (撤销针对于itcase这个数据库的所有表的所有权限)</span>
<span class="token keyword">revoke</span> <span class="token keyword">all</span> <span class="token keyword">on</span> itcase<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;heima&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="注意事项-4" tabindex="-1"><a class="header-anchor" href="#注意事项-4" aria-hidden="true">#</a> 注意事项</h3><ul><li>多个权限用逗号分隔</li><li>授权时，数据库名和表名可以用 * 进行通配，代表所有</li></ul><hr><h2 id="函数" tabindex="-1"><a class="header-anchor" href="#函数" aria-hidden="true">#</a> 函数</h2><h2 id="字符串函数" tabindex="-1"><a class="header-anchor" href="#字符串函数" aria-hidden="true">#</a> 字符串函数</h2><p>常用函数：</p><table><thead><tr><th><strong>函数</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>CONCAT(s1, s2, …, sn)</td><td>字符串拼接，将s1, s2, …, sn拼接成一个字符串</td></tr><tr><td>LOWER(str)</td><td>将字符串全部转为小写</td></tr><tr><td>UPPER(str)</td><td>将字符串全部转为大写</td></tr><tr><td>LPAD(str, n, pad)</td><td>左填充，用字符串pad对str的左边进行填充，达到n个字符串长度</td></tr><tr><td>RPAD(str, n, pad)</td><td>右填充，用字符串pad对str的右边进行填充，达到n个字符串长度</td></tr><tr><td>TRIM(str)</td><td>去掉字符串头部和尾部的空格</td></tr><tr><td>SUBSTRING(str, start, len)</td><td>返回从字符串str从start位置起的len个长度的字符串</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 拼接 CONCAT(s1, s2, …, sn)</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;MySQL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 小写 LOWER(str)</span>
<span class="token keyword">select</span> lower<span class="token punctuation">(</span><span class="token string">&#39;I AM SPIDERMAN&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 大写 UPPER(str)</span>
<span class="token keyword">select</span> upper<span class="token punctuation">(</span><span class="token string">&#39;i am spiderman&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 左填充 LPAD(str, n, pad)</span>
<span class="token keyword">select</span> lpad<span class="token punctuation">(</span><span class="token string">&#39;hellomysql&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 右填充 RPAD(str, n, pad)</span>
<span class="token keyword">select</span> rpad<span class="token punctuation">(</span><span class="token string">&#39;hellomysql&#39;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 去除空格 TRIM(str)</span>
<span class="token keyword">select</span> trim<span class="token punctuation">(</span><span class="token string">&#39;     do you wanna build a snowman  &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 切片（起始索引为1） SUBSTRING(str, start, len)</span>
<span class="token keyword">select</span> substr<span class="token punctuation">(</span><span class="token string">&#39;howareuiamfinethanku&#39;</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 根据业务需求，企业员工的工号统一改为5位数，不足五位的前面用0补齐</span>
<span class="token keyword">UPDATE</span> emp <span class="token keyword">SET</span> workno <span class="token operator">=</span> lpad<span class="token punctuation">(</span>workno<span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="数值函数" tabindex="-1"><a class="header-anchor" href="#数值函数" aria-hidden="true">#</a> 数值函数</h2><p>常见函数：</p><table><thead><tr><th><strong>函数</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>CEIL(x)</td><td>向上取整</td></tr><tr><td>FLOOR(x)</td><td>向下取整</td></tr><tr><td>MOD(x, y)</td><td>返回x/y的模</td></tr><tr><td>RAND()</td><td>返回0~1内的随机数</td></tr><tr><td>ROUND(x, y)</td><td>求参数x的四舍五入值，保留y位小数</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 数值函数</span>

<span class="token comment">-- CEIL(x) answer=2</span>
<span class="token keyword">select</span> ceil<span class="token punctuation">(</span><span class="token number">1.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- FLOOR(x) answer=1</span>
<span class="token keyword">select</span> floor<span class="token punctuation">(</span><span class="token number">1.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- MOD(x, y) (取余数)</span>
<span class="token keyword">select</span> <span class="token function">mod</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- RAND()</span>
<span class="token keyword">select</span> rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- ROUND(x, y) 求参数x的四舍五入值，保留y位小数 answer=2.90</span>
<span class="token keyword">select</span> <span class="token function">round</span><span class="token punctuation">(</span><span class="token number">2.899</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 生成随机6位数</span>
<span class="token keyword">select</span> rpad<span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000000</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="日期函数" tabindex="-1"><a class="header-anchor" href="#日期函数" aria-hidden="true">#</a> 日期函数</h2><p>常用函数：</p><table><thead><tr><th><strong>函数</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>CURDATE()</td><td>返回当前日期</td></tr><tr><td>CURTIME()</td><td>返回当前时间</td></tr><tr><td>NOW()</td><td>返回当前日期和时间</td></tr><tr><td>YEAR(date)</td><td>获取指定date的年份</td></tr><tr><td>MONTH(date)</td><td>获取指定date的月份</td></tr><tr><td>DAY(date)</td><td>获取指定date的日期</td></tr><tr><td>DATE_ADD(date, INTERVAL expr type)</td><td>返回一个日期/时间值加上一个时间间隔expr后的时间值</td></tr><tr><td>DATEDIFF(date1, date2)</td><td>返回起始时间date1和结束时间date2之间的天数</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- CURDATE()</span>
<span class="token keyword">select</span> curdate<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- CURTIME()</span>
<span class="token keyword">select</span> curtime<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- NOW()</span>
<span class="token keyword">select</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- YEAR(date)-- MONTH(date)-- DAY(date)</span>
<span class="token keyword">select</span> <span class="token keyword">year</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token keyword">month</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token keyword">day</span><span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- DATE_ADD(date, INTERVAL expr type)</span>
<span class="token keyword">select</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">interval</span> <span class="token number">10</span> <span class="token keyword">day</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- DATEDIFF(date1, date2)---date1-date2</span>
<span class="token keyword">select</span> datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">&#39;2000-04-01&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 查询所有员工的入职天数，并根据入职天数倒序排序</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>entrydate<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>entrydate<span class="token punctuation">)</span> <span class="token keyword">DESC</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> name<span class="token punctuation">,</span>datediff<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>entrydate<span class="token punctuation">)</span> <span class="token keyword">as</span> entrydays <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> entrydays <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="流程函数" tabindex="-1"><a class="header-anchor" href="#流程函数" aria-hidden="true">#</a> 流程函数</h2><p>常用函数：</p><table><thead><tr><th><strong>函数</strong></th><th><strong>功能</strong></th></tr></thead><tbody><tr><td>IF(value, t, f)</td><td>如果value为true，则返回t，否则返回f</td></tr><tr><td>IFNULL(value1, value2)</td><td>如果value1不为空，返回value1，否则返回value2</td></tr><tr><td>CASE WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td><td>如果val1为true，返回res1，… 否则返回default默认值</td></tr><tr><td>CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</td><td>如果expr的值等于val1，返回res1，… 否则返回default默认值</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- IF(value, t, f)--如果value为true，则返回t，否则返回f</span>
<span class="token keyword">select</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- IFNULL(value1, value2)--如果value1不为空，返回value1，否则返回value2</span>
<span class="token keyword">select</span> ifnull<span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> ifnull<span class="token punctuation">(</span><span class="token string">&#39;ok&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">-- CASE [ expr ] WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</span>
<span class="token comment">-- 如果expr的值等于val1，返回res1，… 否则返回default默认值</span>
<span class="token comment">-- 需求：查询emp表的员工姓名和工作地址（上海/北京---&gt;一线城市，其他---&gt;二线城市）</span>
<span class="token keyword">select</span>
       name<span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> workaddress <span class="token keyword">when</span> <span class="token string">&#39;北京&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;一线城市&#39;</span> <span class="token keyword">when</span> <span class="token string">&#39;上海&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;一线城市&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;二线城市&#39;</span> <span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;工作城市&#39;</span>
<span class="token keyword">from</span> emp<span class="token punctuation">;</span>


<span class="token comment">-- CASE WHEN [ val1 ] THEN [ res1 ] … ELSE [ default ] END</span>
<span class="token comment">-- 如果val1为true，返回res1，… 否则返回default默认值</span>
<span class="token comment">-- 统计班级成绩{ &gt;=85优秀, &gt;=60及格, else不及格 }</span>
<span class="token keyword">create</span> <span class="token keyword">table</span>  score<span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    math <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;数学&#39;</span><span class="token punctuation">,</span>
    english <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;英文&#39;</span><span class="token punctuation">,</span>
    chinese <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;语文&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学员成绩表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> score<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> math<span class="token punctuation">,</span> english<span class="token punctuation">,</span> chinese<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;Tom&#39;</span><span class="token punctuation">,</span><span class="token number">67</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">,</span><span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;Rose&#39;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;Jack&#39;</span><span class="token punctuation">,</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">select</span>
       id<span class="token punctuation">,</span>
       name<span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> math <span class="token operator">&gt;=</span><span class="token number">85</span> <span class="token keyword">then</span> <span class="token string">&#39;优秀&#39;</span> <span class="token keyword">when</span> math <span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">&#39;及格&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;不及格&#39;</span><span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> math<span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> english <span class="token operator">&gt;=</span><span class="token number">85</span> <span class="token keyword">then</span> <span class="token string">&#39;优秀&#39;</span> <span class="token keyword">when</span> math <span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">&#39;及格&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;不及格&#39;</span><span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> english<span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token keyword">case</span> <span class="token keyword">when</span> chinese <span class="token operator">&gt;=</span><span class="token number">85</span> <span class="token keyword">then</span> <span class="token string">&#39;优秀&#39;</span> <span class="token keyword">when</span> math <span class="token operator">&gt;=</span><span class="token number">60</span> <span class="token keyword">then</span> <span class="token string">&#39;及格&#39;</span> <span class="token keyword">else</span> <span class="token string">&#39;不及格&#39;</span><span class="token keyword">end</span><span class="token punctuation">)</span> <span class="token keyword">as</span> chinese
<span class="token keyword">from</span> score<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><hr><h2 id="约束-constraints" tabindex="-1"><a class="header-anchor" href="#约束-constraints" aria-hidden="true">#</a> 约束 Constraints</h2><p>Constraints in SQL means we are applying certain conditions or restrictions on the database. This further means that before inserting data into the database, we are checking for some conditions. If the condition we have applied to the database holds true for the data which is to be inserted, then only the data will be inserted into the database tables.</p><table><thead><tr><th><strong>约束</strong></th><th><strong>描述</strong></th><th><strong>关键字</strong></th></tr></thead><tbody><tr><td>非空约束</td><td>限制该字段的数据不能为null</td><td>NOT NULL</td></tr><tr><td>唯一约束</td><td>保证该字段的所有数据都是唯一、不重复的</td><td>UNIQUE</td></tr><tr><td>主键约束</td><td>主键是一行数据的唯一标识，要求非空且唯一</td><td>PRIMARY KEY</td></tr><tr><td>默认约束</td><td>保存数据时，如果未指定该字段的值，则采用默认值</td><td>DEFAULT</td></tr><tr><td>检查约束（8.0.1版本后）</td><td>保证字段值满足某一个条件</td><td>CHECK</td></tr><tr><td>外键约束</td><td>用来让两张图的数据之间建立连接，保证数据的一致性和完整性</td><td>FOREIGN KEY</td></tr></tbody></table><h2 id="案例" tabindex="-1"><a class="header-anchor" href="#案例" aria-hidden="true">#</a> 案例</h2><p><img src="/E-commerce/images/MySQL/MySQL-19.png" alt="img" loading="lazy"></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">user</span><span class="token punctuation">(</span>
    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;id主键&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">unique</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age <span class="token keyword">int</span> <span class="token keyword">check</span> <span class="token punctuation">(</span> age <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">and</span> age <span class="token operator">&lt;=</span> <span class="token number">120</span> <span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">status</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">comment</span> <span class="token string">&#39;状态&#39;</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;性别&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户表&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="常用约束" tabindex="-1"><a class="header-anchor" href="#常用约束" aria-hidden="true">#</a> 常用约束</h2><table><thead><tr><th><strong>约束条件</strong></th><th><strong>关键字</strong></th></tr></thead><tbody><tr><td>主键</td><td>PRIMARY KEY</td></tr><tr><td>自动增长</td><td>AUTO_INCREMENT</td></tr><tr><td>不为空</td><td>NOT NULL</td></tr><tr><td>唯一</td><td>UNIQUE</td></tr><tr><td>逻辑条件</td><td>CHECK</td></tr><tr><td>默认值</td><td>DEFAULT</td></tr></tbody></table><h2 id="外键约束" tabindex="-1"><a class="header-anchor" href="#外键约束" aria-hidden="true">#</a> 外键约束</h2><p>In the relational databases, a foreign key is a field or a column that is used to establish a link between two tables.</p><h3 id="添加外键关联" tabindex="-1"><a class="header-anchor" href="#添加外键关联" aria-hidden="true">#</a> 添加外键关联</h3><h4 id="创建表时添加" tabindex="-1"><a class="header-anchor" href="#创建表时添加" aria-hidden="true">#</a> 创建表时添加</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
    字段名 字段类型<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>外键名称<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表<span class="token punctuation">(</span>主表列名<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="创建表后添加" tabindex="-1"><a class="header-anchor" href="#创建表后添加" aria-hidden="true">#</a> 创建表后添加</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> 外键名称 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表<span class="token punctuation">(</span>主表列名<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>外键在创建后，主表中的关联无法删除，这样保证了一致性和完整性</li></ul><h3 id="删除外键" tabindex="-1"><a class="header-anchor" href="#删除外键" aria-hidden="true">#</a> 删除外键</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> 外键名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="案例-1" tabindex="-1"><a class="header-anchor" href="#案例-1" aria-hidden="true">#</a> 案例</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> dept
<span class="token punctuation">(</span>
    id   <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门名称&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;总经办&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> emp1
<span class="token punctuation">(</span>
    id        <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age       <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    job       <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;职位&#39;</span><span class="token punctuation">,</span>
    salary    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;薪资&#39;</span><span class="token punctuation">,</span>
    entrydate <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;入职时间&#39;</span><span class="token punctuation">,</span>
    managerid <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;直属领导ID&#39;</span><span class="token punctuation">,</span>
    dept_id   <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门ID&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp1 <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> entrydate<span class="token punctuation">,</span> managerid<span class="token punctuation">,</span> dept_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;金庸&#39;</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&#39;总裁&#39;</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;项目经理&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-12-05&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;杨逍&#39;</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">8400</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-11-03&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&#39;开 发&#39;</span><span class="token punctuation">,</span> <span class="token number">11000</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-02-05&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;常遇春&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">10500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-09-07&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;小昭&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;程 序员鼓励师&#39;</span><span class="token punctuation">,</span> <span class="token number">6600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 建立外键关联 ALTER TABLE 表名 ADD CONSTRAINT 外键名称 FOREIGN KEY (外键字段名) REFERENCES 主表(主表列名);</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp1 <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp1_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 删除外键 ALTER TABLE 表名 DROP FOREIGN KEY 外键名;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp1 <span class="token keyword">drop</span> <span class="token keyword">foreign</span> <span class="token keyword">key</span> fk_emp1_dept_id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="删除-更新行为" tabindex="-1"><a class="header-anchor" href="#删除-更新行为" aria-hidden="true">#</a> 删除/更新行为</h3><table><thead><tr><th><strong>行为</strong></th><th><strong>说明</strong></th></tr></thead><tbody><tr><td>NO ACTION</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与RESTRICT一致）</td></tr><tr><td>RESTRICT</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新（与NO ACTION一致）</td></tr><tr><td>CASCADE</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则也删除/更新外键在子表中的记录</td></tr><tr><td>SET NULL</td><td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为null（要求该外键允许为null）</td></tr><tr><td>SET DEFAULT</td><td>父表有变更时，子表将外键设为一个默认值（Innodb不支持）</td></tr></tbody></table><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> 外键名称 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表名<span class="token punctuation">(</span>主表字段名<span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">UPDATE</span> 行为 <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> 行为<span class="token punctuation">;</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp1 <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp1_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">on</span> <span class="token keyword">update</span> <span class="token keyword">CASCADE</span> <span class="token keyword">on</span> <span class="token keyword">delete</span> <span class="token keyword">CASCADE</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><hr><h1 id="-5" tabindex="-1"><a class="header-anchor" href="#-5" aria-hidden="true">#</a></h1><h2 id="多表查询" tabindex="-1"><a class="header-anchor" href="#多表查询" aria-hidden="true">#</a> 多表查询</h2><h2 id="多表关系" tabindex="-1"><a class="header-anchor" href="#多表关系" aria-hidden="true">#</a> 多表关系</h2><ul><li>一对多（多对一）</li><li>多对多</li><li>一对一</li></ul><h3 id="一对多" tabindex="-1"><a class="header-anchor" href="#一对多" aria-hidden="true">#</a> 一对多</h3><p>案例：部门与员工 关系：一个部门对应多个员工，一个员工对应一个部门 实现：在多的一方建立外键，指向一的一方的主键</p><p><img src="/E-commerce/images/MySQL/MySQL-20.png" alt="img" loading="lazy"></p><h3 id="多对多" tabindex="-1"><a class="header-anchor" href="#多对多" aria-hidden="true">#</a> 多对多</h3><p>案例：学生与课程 关系：一个学生可以选多门课程，一门课程也可以供多个学生选修 实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</p><p><img src="/E-commerce/images/MySQL/MySQL-21.png" alt="img" loading="lazy"></p><h4 id="案例-2" tabindex="-1"><a class="header-anchor" href="#案例-2" aria-hidden="true">#</a> 案例</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 多对多 --------------------------------------------------------</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> student
<span class="token punctuation">(</span>
    id   <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键ID&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">no</span>   <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学号&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学生表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> student
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;黛绮丝&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100101&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;谢逊&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100102&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;殷天正&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100103&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2000100104&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> course
<span class="token punctuation">(</span>
    id   <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键ID&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;课程名称&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;课程表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> course
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;Java&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;PHP&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;MySQL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;Hadoop&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> student_course
<span class="token punctuation">(</span>
    id        <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    studentid <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;学生ID&#39;</span><span class="token punctuation">,</span>
    courseid  <span class="token keyword">int</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;课程ID&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> fk_courseid <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>courseid<span class="token punctuation">)</span> <span class="token keyword">references</span> course <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> fk_studentid <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>studentid<span class="token punctuation">)</span> <span class="token keyword">references</span> student <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学生课程中间表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">insert</span> <span class="token keyword">into</span> student_course
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><img src="/E-commerce/images/MySQL/MySQL-22.png" alt="img" loading="lazy"></p><h3 id="一对一" tabindex="-1"><a class="header-anchor" href="#一对一" aria-hidden="true">#</a> 一对一</h3><p>案例：用户与用户详情 关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率 实现：在任意一方加入外键，关联另外一方的主键，并且<strong>设置外键为唯一的（UNIQUE）</strong></p><p><img src="/E-commerce/images/MySQL/MySQL-23.png" alt="img" loading="lazy"></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 一对一 -------------------------------------------------------------------</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> tb_user
<span class="token punctuation">(</span>
    id     <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键ID&#39;</span><span class="token punctuation">,</span>
    name   <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;1: 男 , 2: 女&#39;</span><span class="token punctuation">,</span>
    phone  <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;手机号&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户基本信息表&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">create</span> <span class="token keyword">table</span> tb_user_edu
<span class="token punctuation">(</span>
    id            <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">comment</span> <span class="token string">&#39;主键ID&#39;</span><span class="token punctuation">,</span>
    degree        <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;学历&#39;</span><span class="token punctuation">,</span>
    major         <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;专业&#39;</span><span class="token punctuation">,</span>
    primaryschool <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;小学&#39;</span><span class="token punctuation">,</span>
    middleschool  <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;中学&#39;</span><span class="token punctuation">,</span>
    university    <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;大学&#39;</span><span class="token punctuation">,</span>
    userid        <span class="token keyword">int</span> <span class="token keyword">unique</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户ID&#39;</span><span class="token punctuation">,</span>
    <span class="token keyword">constraint</span> fk_userid <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>userid<span class="token punctuation">)</span> <span class="token keyword">references</span> tb_user <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;用户教育信息表&#39;</span><span class="token punctuation">;</span>


<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user<span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> phone<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;黄渤&#39;</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800001111&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;冰冰&#39;</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800002222&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;码云&#39;</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800008888&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;李彦宏&#39;</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;18800009999&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">insert</span> <span class="token keyword">into</span> tb_user_edu<span class="token punctuation">(</span>id<span class="token punctuation">,</span> degree<span class="token punctuation">,</span> major<span class="token punctuation">,</span> primaryschool<span class="token punctuation">,</span> middleschool<span class="token punctuation">,</span> university<span class="token punctuation">,</span> userid<span class="token punctuation">)</span>
<span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;本科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;舞蹈&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;静安区第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;静安区第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京舞蹈学院&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;硕士&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;表演&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;朝阳区第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;朝阳区第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;北京电影学院&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;本科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;英语&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杭州市第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杭州市第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;杭州师范大学&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token string">&#39;本科&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;应用数学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;阳泉第一小学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;阳泉区第一中学&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;清华大学&#39;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><p>userid int <strong>unique</strong> comment &#39;用户ID&#39;,</p><p>constraint fk_userid <strong>foreign key (userid)</strong> references tb_user (id)</p><h2 id="多表查询-1" tabindex="-1"><a class="header-anchor" href="#多表查询-1" aria-hidden="true">#</a> 多表查询</h2><h3 id="合并查询-笛卡尔积-会展示所有组合结果" tabindex="-1"><a class="header-anchor" href="#合并查询-笛卡尔积-会展示所有组合结果" aria-hidden="true">#</a> 合并查询（笛卡尔积，会展示所有组合结果）</h3><p><strong>table1=子表，table2=父表</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> table1<span class="token punctuation">,</span> table2<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="消除无效笛卡尔积" tabindex="-1"><a class="header-anchor" href="#消除无效笛卡尔积" aria-hidden="true">#</a> 消除无效笛卡尔积：</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> table1<span class="token punctuation">,</span> table2 <span class="token keyword">where</span> table1<span class="token punctuation">.</span>table2 <span class="token operator">=</span> table2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-3" tabindex="-1"><a class="header-anchor" href="#案例-3" aria-hidden="true">#</a> 案例</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 创建dept表，并插入数据</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> dept
<span class="token punctuation">(</span>
    id   <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门名称&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门表&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;总经办&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;人事部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 创建emp表，并插入数据</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> emp
<span class="token punctuation">(</span>
    id        <span class="token keyword">int</span> <span class="token keyword">auto_increment</span> <span class="token keyword">comment</span> <span class="token string">&#39;ID&#39;</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name      <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">comment</span> <span class="token string">&#39;姓名&#39;</span><span class="token punctuation">,</span>
    age       <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    job       <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;职位&#39;</span><span class="token punctuation">,</span>
    salary    <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;薪资&#39;</span><span class="token punctuation">,</span>
    entrydate <span class="token keyword">date</span> <span class="token keyword">comment</span> <span class="token string">&#39;入职时间&#39;</span><span class="token punctuation">,</span>
    managerid <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;直属领导ID&#39;</span><span class="token punctuation">,</span>
    dept_id   <span class="token keyword">int</span> <span class="token keyword">comment</span> <span class="token string">&#39;部门ID&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>

<span class="token comment">-- 添加外键</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp
    <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept <span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> emp <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> entrydate<span class="token punctuation">,</span> managerid<span class="token punctuation">,</span> dept_id<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;金庸&#39;</span><span class="token punctuation">,</span> <span class="token number">66</span><span class="token punctuation">,</span> <span class="token string">&#39;总裁&#39;</span><span class="token punctuation">,</span> <span class="token number">20000</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-01-01&#39;</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;张无忌&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;项目经理&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2005-12-05&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&#39;杨逍&#39;</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">8400</span><span class="token punctuation">,</span> <span class="token string">&#39;2000-11-03&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;韦一笑&#39;</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">11000</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-02-05&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;常遇春&#39;</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token string">&#39;开发&#39;</span><span class="token punctuation">,</span> <span class="token number">10500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-09-07&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;小昭&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;程序员鼓励师&#39;</span><span class="token punctuation">,</span> <span class="token number">6600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&#39;灭绝&#39;</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&#39;财务总监&#39;</span><span class="token punctuation">,</span> <span class="token number">8500</span><span class="token punctuation">,</span> <span class="token string">&#39;2002-09-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&#39;周芷若&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;会计&#39;</span><span class="token punctuation">,</span> <span class="token number">48000</span><span class="token punctuation">,</span> <span class="token string">&#39;2006-06-02&#39;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">&#39;丁敏君&#39;</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token string">&#39;出纳&#39;</span><span class="token punctuation">,</span> <span class="token number">5250</span><span class="token punctuation">,</span> <span class="token string">&#39;2009-05-13&#39;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;赵敏&#39;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;市场部总监&#39;</span><span class="token punctuation">,</span> <span class="token number">12500</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">&#39;鹿杖客&#39;</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span> <span class="token number">3750</span><span class="token punctuation">,</span> <span class="token string">&#39;2006-10-03&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">&#39;鹤笔翁&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span> <span class="token number">3750</span><span class="token punctuation">,</span> <span class="token string">&#39;2007-05-09&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">&#39;方东白&#39;</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token string">&#39;职员&#39;</span><span class="token punctuation">,</span> <span class="token number">5500</span><span class="token punctuation">,</span> <span class="token string">&#39;2009-02-12&#39;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">&#39;张三丰&#39;</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token string">&#39;销售总监&#39;</span><span class="token punctuation">,</span> <span class="token number">14000</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;俞莲舟&#39;</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token number">4600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token string">&#39;宋远桥&#39;</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token string">&#39;销售&#39;</span><span class="token punctuation">,</span> <span class="token number">4600</span><span class="token punctuation">,</span> <span class="token string">&#39;2004-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       <span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token string">&#39;陈友谅&#39;</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token string">&#39;2011-10-12&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       
       
<span class="token comment">-- 合并查询（笛卡尔积，会展示所有组合结果）</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">,</span> dept<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">,</span> dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><h2 id="连接查询" tabindex="-1"><a class="header-anchor" href="#连接查询" aria-hidden="true">#</a> 连接查询</h2><h3 id="内连接-sql-inner-join" tabindex="-1"><a class="header-anchor" href="#内连接-sql-inner-join" aria-hidden="true">#</a> 内连接 SQL Inner Join</h3><p>内连接查询的是两张表交集的部分</p><p>The joining of two or more tables is <strong>based on common field</strong> between them.</p><p><img src="/E-commerce/images/MySQL/MySQL-24.png" alt="img" loading="lazy"></p><h4 id="隐式内连接" tabindex="-1"><a class="header-anchor" href="#隐式内连接" aria-hidden="true">#</a> 隐式内连接：</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span><span class="token punctuation">,</span> 表<span class="token number">2</span> <span class="token keyword">WHERE</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="显式内连接" tabindex="-1"><a class="header-anchor" href="#显式内连接" aria-hidden="true">#</a> 显式内连接：</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token punctuation">[</span> <span class="token keyword">INNER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 连接条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-4" tabindex="-1"><a class="header-anchor" href="#案例-4" aria-hidden="true">#</a> 案例</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询员工姓名，关联部门名称 (隐式)</span>
<span class="token keyword">SELECT</span> emp<span class="token punctuation">.</span>name<span class="token punctuation">,</span> dept<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp<span class="token punctuation">,</span> dept <span class="token keyword">WHERE</span> emp<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id <span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp e<span class="token punctuation">,</span> dept d <span class="token keyword">WHERE</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token comment">-- 如果为表起了别名，就不能再通过原表名来限定字段</span>

<span class="token comment">-- 查询员工姓名，关联部门名称 (显式)</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp <span class="token keyword">AS</span> e <span class="token keyword">JOIN</span> dept <span class="token keyword">AS</span> d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>**如果为表起了别名，就不能再通过原表名来限定字段</p><p>**</p><h3 id="外连接" tabindex="-1"><a class="header-anchor" href="#外连接" aria-hidden="true">#</a> 外连接</h3><h4 id="左外连接" tabindex="-1"><a class="header-anchor" href="#左外连接" aria-hidden="true">#</a> 左外连接</h4><p>查询左表所有数据，以及两张表交集部分数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">LEFT</span> <span class="token punctuation">[</span> <span class="token keyword">OUTER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="右外连接" tabindex="-1"><a class="header-anchor" href="#右外连接" aria-hidden="true">#</a> 右外连接</h4><p>查询右表所有数据，以及两张表交集部分数据</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">RIGHT</span> <span class="token punctuation">[</span> <span class="token keyword">OUTER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="案例-5" tabindex="-1"><a class="header-anchor" href="#案例-5" aria-hidden="true">#</a> 案例</h4><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询emp表和对应的部门信息（左外）</span>
<span class="token keyword">SELECT</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp e <span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token comment">-- 查询dept表和对应的员工信息（右外）</span>
<span class="token keyword">SELECT</span> d<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">FROM</span> dept d <span class="token keyword">RIGHT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> emp e <span class="token keyword">ON</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>左连接可以查询到没有dept的employee，右连接可以查询到没有employee的dept</p><p>左外用的比较多</p><h3 id="自连接" tabindex="-1"><a class="header-anchor" href="#自连接" aria-hidden="true">#</a> 自连接</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表A 别名A <span class="token keyword">JOIN</span> 表A 别名B <span class="token keyword">ON</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><strong>案例</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询员工 以及 所述领导的名字 (内连接自连接)</span>
<span class="token keyword">SELECT</span> e1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e2<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp e1 <span class="token keyword">JOIN</span> emp e2 <span class="token keyword">ON</span> e1<span class="token punctuation">.</span>managerid <span class="token operator">=</span> e2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>

<span class="token comment">-- 查询员工 以及 所述领导的名字, 如果无，也要显示 (外连接自连接)</span>
<span class="token keyword">SELECT</span> e1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> e2<span class="token punctuation">.</span>name <span class="token keyword">FROM</span> emp e1 <span class="token keyword">LEFT</span> <span class="token keyword">OUTER</span> <span class="token keyword">JOIN</span> emp e2 <span class="token keyword">ON</span> e1<span class="token punctuation">.</span>managerid <span class="token operator">=</span> e2<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="-6" tabindex="-1"><a class="header-anchor" href="#-6" aria-hidden="true">#</a></h2><h4 id="联合查询-union-union-all" tabindex="-1"><a class="header-anchor" href="#联合查询-union-union-all" aria-hidden="true">#</a> 联合查询 union, union all</h4><p>把多次查询的结果合并，形成一个新的查询集</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表A <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">UNION</span> <span class="token punctuation">[</span><span class="token keyword">ALL</span><span class="token punctuation">]</span>
<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表B <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>案例</strong></p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 将薪资低于5000的员工 和 年龄大于50的员工 全部查询出来</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">where</span> salary <span class="token operator">&lt;</span> <span class="token number">5000</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> emp <span class="token keyword">where</span> age <span class="token operator">&gt;</span> <span class="token number">50</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>注意事项</strong></p><ul><li>UNION ALL 会有重复结果，UNION 不会</li><li>联合查询比使用or效率高，不会使索引失效</li></ul><h4 id="-7" tabindex="-1"><a class="header-anchor" href="#-7" aria-hidden="true">#</a></h4><h2 id="子查询" tabindex="-1"><a class="header-anchor" href="#子查询" aria-hidden="true">#</a> 子查询</h2><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t1 <span class="token keyword">WHERE</span> column1 <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token keyword">SELECT</span> column1 <span class="token keyword">FROM</span> t2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="-8" tabindex="-1"><a class="header-anchor" href="#-8" aria-hidden="true">#</a></h4><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/src/posts/freshman/MySQL.md" rel="noopener noreferrer" target="_blank" arialabel="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><!----><!----></footer><nav class="page-nav"><a href="/E-commerce/posts/freshman/Java.html" class="nav-link prev" arialabel="Java"><div class="hint"><span class="arrow left"></span>上一页</div><div class="link"><i class="icon iconfont icon-java"></i>Java</div></a><a href="/E-commerce/posts/freshman/accountanttitle1.html" class="nav-link next" arialabel="会计学原理试卷1"><div class="hint">下一页<span class="arrow right"></span></div><div class="link">会计学原理试卷1<i class="icon iconfont icon-guojihuiji"></i></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><!----></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">MIT Licensed | Copyright © 2019-present Mr.Yang</div><div class="copyright">Copyright © 2022 Mr.Yang</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/E-commerce/assets/app.b60e114e.js" defer></script>
  </body>
</html>
